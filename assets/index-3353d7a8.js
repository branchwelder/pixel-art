(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var se;const te=window,F=te.trustedTypes,me=F?F.createPolicy("lit-html",{createHTML:l=>l}):void 0,de="$lit$",H=`lit$${(Math.random()+"").slice(9)}$`,$e="?"+H,je=`<${$e}>`,D=document,X=()=>D.createComment(""),Y=l=>l===null||typeof l!="object"&&typeof l!="function",_e=Array.isArray,Xe=l=>_e(l)||typeof(l==null?void 0:l[Symbol.iterator])=="function",le=`[ 	
\f\r]`,j=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ye=/-->/g,be=/>/g,z=RegExp(`>|${le}(?:([^\\s"'>=/]+)(${le}*=${le}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),we=/'/g,xe=/"/g,Le=/^(?:script|style|textarea|title)$/i,Ye=l=>(i,...a)=>({_$litType$:l,strings:i,values:a}),L=Ye(1),U=Symbol.for("lit-noChange"),k=Symbol.for("lit-nothing"),Ee=new WeakMap,W=D.createTreeWalker(D,129,null,!1);function Re(l,i){if(!Array.isArray(l)||!l.hasOwnProperty("raw"))throw Error("invalid template strings array");return me!==void 0?me.createHTML(i):i}const Ue=(l,i)=>{const a=l.length-1,e=[];let t,n=i===2?"<svg>":"",r=j;for(let s=0;s<a;s++){const d=l[s];let c,h,u=-1,p=0;for(;p<d.length&&(r.lastIndex=p,h=r.exec(d),h!==null);)p=r.lastIndex,r===j?h[1]==="!--"?r=ye:h[1]!==void 0?r=be:h[2]!==void 0?(Le.test(h[2])&&(t=RegExp("</"+h[2],"g")),r=z):h[3]!==void 0&&(r=z):r===z?h[0]===">"?(r=t??j,u=-1):h[1]===void 0?u=-2:(u=r.lastIndex-h[2].length,c=h[1],r=h[3]===void 0?z:h[3]==='"'?xe:we):r===xe||r===we?r=z:r===ye||r===be?r=j:(r=z,t=void 0);const m=r===z&&l[s+1].startsWith("/>")?" ":"";n+=r===j?d+je:u>=0?(e.push(c),d.slice(0,u)+de+d.slice(u)+H+m):d+H+(u===-2?(e.push(void 0),s):m)}return[Re(l,n+(l[a]||"<?>")+(i===2?"</svg>":"")),e]};class q{constructor({strings:i,_$litType$:a},e){let t;this.parts=[];let n=0,r=0;const s=i.length-1,d=this.parts,[c,h]=Ue(i,a);if(this.el=q.createElement(c,e),W.currentNode=this.el.content,a===2){const u=this.el.content,p=u.firstChild;p.remove(),u.append(...p.childNodes)}for(;(t=W.nextNode())!==null&&d.length<s;){if(t.nodeType===1){if(t.hasAttributes()){const u=[];for(const p of t.getAttributeNames())if(p.endsWith(de)||p.startsWith(H)){const m=h[r++];if(u.push(p),m!==void 0){const y=t.getAttribute(m.toLowerCase()+de).split(H),w=/([.?@])?(.*)/.exec(m);d.push({type:1,index:n,name:w[2],strings:y,ctor:w[1]==="."?Ke:w[1]==="?"?Qe:w[1]==="@"?Ze:re})}else d.push({type:6,index:n})}for(const p of u)t.removeAttribute(p)}if(Le.test(t.tagName)){const u=t.textContent.split(H),p=u.length-1;if(p>0){t.textContent=F?F.emptyScript:"";for(let m=0;m<p;m++)t.append(u[m],X()),W.nextNode(),d.push({type:2,index:++n});t.append(u[p],X())}}}else if(t.nodeType===8)if(t.data===$e)d.push({type:2,index:n});else{let u=-1;for(;(u=t.data.indexOf(H,u+1))!==-1;)d.push({type:7,index:n}),u+=H.length-1}n++}}static createElement(i,a){const e=D.createElement("template");return e.innerHTML=i,e}}function O(l,i,a=l,e){var t,n,r,s;if(i===U)return i;let d=e!==void 0?(t=a._$Co)===null||t===void 0?void 0:t[e]:a._$Cl;const c=Y(i)?void 0:i._$litDirective$;return(d==null?void 0:d.constructor)!==c&&((n=d==null?void 0:d._$AO)===null||n===void 0||n.call(d,!1),c===void 0?d=void 0:(d=new c(l),d._$AT(l,a,e)),e!==void 0?((r=(s=a)._$Co)!==null&&r!==void 0?r:s._$Co=[])[e]=d:a._$Cl=d),d!==void 0&&(i=O(l,d._$AS(l,i.values),d,e)),i}class qe{constructor(i,a){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=a}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){var a;const{el:{content:e},parts:t}=this._$AD,n=((a=i==null?void 0:i.creationScope)!==null&&a!==void 0?a:D).importNode(e,!0);W.currentNode=n;let r=W.nextNode(),s=0,d=0,c=t[0];for(;c!==void 0;){if(s===c.index){let h;c.type===2?h=new K(r,r.nextSibling,this,i):c.type===1?h=new c.ctor(r,c.name,c.strings,this,i):c.type===6&&(h=new et(r,this,i)),this._$AV.push(h),c=t[++d]}s!==(c==null?void 0:c.index)&&(r=W.nextNode(),s++)}return W.currentNode=D,n}v(i){let a=0;for(const e of this._$AV)e!==void 0&&(e.strings!==void 0?(e._$AI(i,e,a),a+=e.strings.length-2):e._$AI(i[a])),a++}}class K{constructor(i,a,e,t){var n;this.type=2,this._$AH=k,this._$AN=void 0,this._$AA=i,this._$AB=a,this._$AM=e,this.options=t,this._$Cp=(n=t==null?void 0:t.isConnected)===null||n===void 0||n}get _$AU(){var i,a;return(a=(i=this._$AM)===null||i===void 0?void 0:i._$AU)!==null&&a!==void 0?a:this._$Cp}get parentNode(){let i=this._$AA.parentNode;const a=this._$AM;return a!==void 0&&(i==null?void 0:i.nodeType)===11&&(i=a.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,a=this){i=O(this,i,a),Y(i)?i===k||i==null||i===""?(this._$AH!==k&&this._$AR(),this._$AH=k):i!==this._$AH&&i!==U&&this._(i):i._$litType$!==void 0?this.g(i):i.nodeType!==void 0?this.$(i):Xe(i)?this.T(i):this._(i)}k(i){return this._$AA.parentNode.insertBefore(i,this._$AB)}$(i){this._$AH!==i&&(this._$AR(),this._$AH=this.k(i))}_(i){this._$AH!==k&&Y(this._$AH)?this._$AA.nextSibling.data=i:this.$(D.createTextNode(i)),this._$AH=i}g(i){var a;const{values:e,_$litType$:t}=i,n=typeof t=="number"?this._$AC(i):(t.el===void 0&&(t.el=q.createElement(Re(t.h,t.h[0]),this.options)),t);if(((a=this._$AH)===null||a===void 0?void 0:a._$AD)===n)this._$AH.v(e);else{const r=new qe(n,this),s=r.u(this.options);r.v(e),this.$(s),this._$AH=r}}_$AC(i){let a=Ee.get(i.strings);return a===void 0&&Ee.set(i.strings,a=new q(i)),a}T(i){_e(this._$AH)||(this._$AH=[],this._$AR());const a=this._$AH;let e,t=0;for(const n of i)t===a.length?a.push(e=new K(this.k(X()),this.k(X()),this,this.options)):e=a[t],e._$AI(n),t++;t<a.length&&(this._$AR(e&&e._$AB.nextSibling,t),a.length=t)}_$AR(i=this._$AA.nextSibling,a){var e;for((e=this._$AP)===null||e===void 0||e.call(this,!1,!0,a);i&&i!==this._$AB;){const t=i.nextSibling;i.remove(),i=t}}setConnected(i){var a;this._$AM===void 0&&(this._$Cp=i,(a=this._$AP)===null||a===void 0||a.call(this,i))}}class re{constructor(i,a,e,t,n){this.type=1,this._$AH=k,this._$AN=void 0,this.element=i,this.name=a,this._$AM=t,this.options=n,e.length>2||e[0]!==""||e[1]!==""?(this._$AH=Array(e.length-1).fill(new String),this.strings=e):this._$AH=k}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(i,a=this,e,t){const n=this.strings;let r=!1;if(n===void 0)i=O(this,i,a,0),r=!Y(i)||i!==this._$AH&&i!==U,r&&(this._$AH=i);else{const s=i;let d,c;for(i=n[0],d=0;d<n.length-1;d++)c=O(this,s[e+d],a,d),c===U&&(c=this._$AH[d]),r||(r=!Y(c)||c!==this._$AH[d]),c===k?i=k:i!==k&&(i+=(c??"")+n[d+1]),this._$AH[d]=c}r&&!t&&this.j(i)}j(i){i===k?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}}class Ke extends re{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===k?void 0:i}}const Je=F?F.emptyScript:"";class Qe extends re{constructor(){super(...arguments),this.type=4}j(i){i&&i!==k?this.element.setAttribute(this.name,Je):this.element.removeAttribute(this.name)}}class Ze extends re{constructor(i,a,e,t,n){super(i,a,e,t,n),this.type=5}_$AI(i,a=this){var e;if((i=(e=O(this,i,a,0))!==null&&e!==void 0?e:k)===U)return;const t=this._$AH,n=i===k&&t!==k||i.capture!==t.capture||i.once!==t.once||i.passive!==t.passive,r=i!==k&&(t===k||n);n&&this.element.removeEventListener(this.name,this,t),r&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var a,e;typeof this._$AH=="function"?this._$AH.call((e=(a=this.options)===null||a===void 0?void 0:a.host)!==null&&e!==void 0?e:this.element,i):this._$AH.handleEvent(i)}}class et{constructor(i,a,e){this.element=i,this.type=6,this._$AN=void 0,this._$AM=a,this.options=e}get _$AU(){return this._$AM._$AU}_$AI(i){O(this,i)}}const Ce=te.litHtmlPolyfillSupport;Ce==null||Ce(q,K),((se=te.litHtmlVersions)!==null&&se!==void 0?se:te.litHtmlVersions=[]).push("2.8.0");const He=(l,i,a)=>{var e,t;const n=(e=a==null?void 0:a.renderBefore)!==null&&e!==void 0?e:i;let r=n._$litPart$;if(r===void 0){const s=(t=a==null?void 0:a.renderBefore)!==null&&t!==void 0?t:null;n._$litPart$=r=new K(i.insertBefore(X(),s),s,void 0,a??{})}return r._$AI(l),r};class P{constructor(i,a,e){this.width=i,this.height=a,this.pixels=new Uint8ClampedArray(e)}static fromJSON(i){return new P(i.width,i.height,i.pixels)}static empty(i,a,e){let t=new Array(i*a).fill(e);return new P(i,a,t)}static fromTile(i,a,e){let t=[];for(let n=0;n<a;n++)for(let r=0;r<i;r++)t.push(e.pixel(r%e.width,n%e.height));return new P(i,a,t)}resize(i,a){let e=[];for(let t=0;t<a;t++)for(let n=0;n<i;n++)t>=this.height||n>=this.width?e.push(0):e.push(this.pixel(n,t));return new P(i,a,e)}make2d(){let i=Array.from(this.pixels).slice(),a=[];for(;i.length>0;)a.push(i.splice(0,this.width));return a}vMirror(){return this.make2d().map(i=>i.toReversed()).flat()}pixel(i,a){return i>this.width-1||i<0||a>this.height-1||a<0?-1:this.pixels.at(i+a*this.width)}draw(i){let a=this.pixels.slice();for(let{x:e,y:t,color:n}of i)e<0||t<0||e>=this.width||t>=this.height||(a[e+t*this.width]=n);return new P(this.width,this.height,a)}brush({x:i,y:a},e){let t={x:i,y:a,color:e};return this.draw([t])}flood({x:i,y:a},e){const t=this.pixel(i,a);if(t===e)return this.draw([]);const n=[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}];let r=[{x:i,y:a,color:e}];for(let s=0;s<r.length;s++)for(let{dx:d,dy:c}of n){let h=r[s].x+d,u=r[s].y+c;h>=0&&h<this.width&&u>=0&&u<this.height&&this.pixel(h,u)==t&&!r.some(p=>p.x==h&&p.y==u)&&r.push({x:h,y:u,color:e})}return this.draw(r)}shift(i,a){let e=[];for(let t=0;t<this.height;t++)for(let n=0;n<this.width;n++)e.push({x:(n-i%this.width+this.width)%this.width,y:(t-a%this.height+this.height)%this.height,color:this.pixel(n,t)});return this.draw(e)}rect(i,a,e){let t=Math.min(i.x,a.x),n=Math.min(i.y,a.y),r=Math.max(i.x,a.x),s=Math.max(i.y,a.y),d=[];for(let c=n;c<=s;c++)for(let h=t;h<=r;h++)d.push({x:h,y:c,color:e});return this.draw(d)}line(i,a,e){let t=[];if(Math.abs(i.x-a.x)>Math.abs(i.y-a.y)){i.x>a.x&&([i,a]=[a,i]);let n=(a.y-i.y)/(a.x-i.x);for(let{x:r,y:s}=i;r<=a.x;r++)t.push({x:r,y:Math.round(s),color:e}),s+=n}else{i.y>a.y&&([i,a]=[a,i]);let n=(a.x-i.x)/(a.y-i.y);for(let{x:r,y:s}=i;s<=a.y;s++)t.push({x:Math.round(r),y:s,color:e}),r+=n}return this.draw(t)}}let x={activeColor:1,grid:!0,activeTool:"brush",scale:0,width:30,height:20,bitmap:P.empty(30,20,0),palette:["#00000000","#000000ff","#ffffffff","#44AA90FF","#faead6ff","#de7895ff","#f75060ff","#f7885fff","#f2c469ff","#b1d36fff","#3ee0cfff","#0091c2ff","#ad6dcaff"],paletteEdit:!1,showSettingsModal:!1};function tt(l){x={...x,...l}}class ke{constructor({state:i,dispatch:a,components:e}){this.state=i,this.components=e.flat().map(t=>t({state:i,dispatch:a}))}syncState(i){this.state=i,this.components.forEach(a=>{a.syncState(i)})}}function rt(l,i,a){function e(t,n){const r=n.bitmap.line({x:l.x,y:l.y},{x:t.x,y:t.y},n.activeColor);l=t,a({bitmap:r})}return e(l,i),e}function nt(l,i,a){function e({x:t,y:n},r){a({bitmap:r.bitmap.flood({x:t,y:n},r.activeColor)})}return e(l,i),e}function it(l,i,a){function e({x:t,y:n},r){const s=i.bitmap.rect({x:l.x,y:l.y},{x:t,y:n},i.activeColor);a({bitmap:s})}return e(l),e}function ot(l,i,a){function e({x:t,y:n}){a({bitmap:i.bitmap.line({x:l.x,y:l.y},{x:t,y:n},i.activeColor)})}return e(l),e}function at(l,i,a){function e({x:t,y:n}){a({bitmap:i.bitmap.shift(l.x-t,l.y-n)})}return e(l),e}function st({state:l},{canvas:i}){let{scale:a,palette:e,bitmap:t}=l,n=null,r=null,s=null;function d(){r=t.width,s=t.height;const h=a*r,u=a*s,p=h/devicePixelRatio-devicePixelRatio,m=u/devicePixelRatio-devicePixelRatio;i.width=h-1,i.height=u-1,i.style.cssText=`width: ${p}px; height: ${m}`,n=null}function c(){const h=i.getContext("2d");for(let u=0;u<t.height;u++)for(let p=0;p<t.width;p++){let m=t.pixel(p,u);(n==null||n.pixel(p,u)!=m)&&(h.translate(p*a,u*a),h.fillStyle=e[m],h.clearRect(0,0,a,a),h.fillRect(0,0,a,a),h.setTransform(1,0,0,1,0,0))}n=t}return d(),c(),{syncState(h){(r!=h.bitmap.width||s!=h.bitmap.height)&&d(),e!=h.palette&&(e=h.palette,n=null),a!=h.scale&&(a=h.scale,d()),n!=h.bitmap&&(t=h.bitmap,c())}}}function Se(l={}){return i=>st(i,l)}function lt({state:l},{canvas:i}){let{scale:a,bitmap:e,grid:t}=l,n=null,r=null;function s(){n=e.width,r=e.height;const c=a*n,h=a*r,u=c/devicePixelRatio-devicePixelRatio,p=h/devicePixelRatio-devicePixelRatio;i.width=c-1,i.height=h-1,i.style.cssText=`width: ${u}px; height: ${p}`}function d(){if(!t)return;const c=i.getContext("2d");c.resetTransform(),c.translate(-.5,-.5),c.clearRect(0,0,i.width,i.height),c.beginPath();for(let h=0;h<e.width;h++)c.moveTo(h*a,0),c.lineTo(h*a,e.height*a+1);for(let h=0;h<e.height;h++)c.moveTo(0,h*a),c.lineTo(e.width*a+1,h*a);c.stroke()}return s(),d(),{syncState(c){(a!=c.scale||n!=c.bitmap.width||r!=c.bitmap.height||t!=c.grid)&&(a=c.scale,e=c.bitmap,t=c.grid,s(),d())}}}function Ae(l={}){return i=>lt(i,l)}function dt({state:l},{inner:i="#000000",outer:a="#ffffff",canvas:e}){let{scale:t,pos:n,bitmap:r}=l,s=null,d=null;function c(){s=r.width,d=r.height;const u=t*s,p=t*d,m=u/devicePixelRatio-devicePixelRatio,y=p/devicePixelRatio-devicePixelRatio;e.width=u-1,e.height=p-1,e.style.cssText=`width: ${m}px; height: ${y}`}function h(){const u=e.getContext("2d");u.resetTransform(),u.clearRect(0,0,e.width,e.height),!(n.x<0||n.y<0)&&(u.translate(-.5,-.5),u.imageSmoothingEnabled=!1,u.strokeStyle=a,u.strokeRect(n.x*t+1,n.y*t+1,t-2,t-2),u.strokeStyle=i,u.strokeRect(n.x*t+2,n.y*t+2,t-4,t-4))}return c(),{syncState(u){(t!=u.scale||s!=u.bitmap.width||d!=u.bitmap.height)&&(t=u.scale,r=u.bitmap,c()),u.pos!=n&&(n=u.pos,h())}}}function Be(l={}){return i=>dt(i,l)}function ct({state:l,dispatch:i},{tools:a,target:e}){return e.addEventListener("pointerdown",t=>{let n=l.pos,r=a[l.activeTool],s=r(n,l,i);if(!s)return;let d=c=>{if(c.buttons==0)e.removeEventListener("mousemove",d);else{let h=l.pos;if(h.x==n.x&&h.y==n.y)return;s(l.pos,l),n=h}};e.addEventListener("mousemove",d)}),{syncState(t){l=t}}}function ht(l={}){return i=>ct(i,l)}function ut({state:l,dispatch:i},{target:a}){l.pos={x:-1,y:-1};function e(t,n){const r=a.getBoundingClientRect(),s=Math.floor((t-r.x)/l.scale*devicePixelRatio),d=Math.floor((n-r.y)/l.scale*devicePixelRatio);return{x:s,y:d}}return a.addEventListener("mousemove",t=>{const{x:n,y:r}=e(t.clientX,t.clientY);(l.pos.x!=n||l.pos.y!=r)&&i({pos:{x:n,y:r}})}),a.addEventListener("mouseleave",t=>{i({pos:{x:-1,y:-1}})}),{syncState(t){l=t}}}function pt(l={}){return i=>ut(i,l)}function ft({state:l,dispatch:i},{tools:a,target:e}){return e.addEventListener("touchstart",t=>{let n=l.pos,r=a[l.activeTool],s=r(n,l,i);if(t.preventDefault(),!s)return;let d=()=>{e.removeEventListener("touchmove",c),e.removeEventListener("touchcancel",d),e.removeEventListener("touchend",d)},c=()=>{let h=l.pos;h.x==n.x&&h.y==n.y||(s(l.pos,l),n=h)};e.addEventListener("touchmove",c),e.addEventListener("touchcancel",d),e.addEventListener("touchend",d)}),{syncState(t){l=t}}}function gt(l={}){return i=>ft(i,l)}function vt({state:l,dispatch:i},{target:a}){l.pos={x:-1,y:-1};function e(t){const n=a.getBoundingClientRect(),r=Math.floor((t.clientX-n.x)/l.scale*devicePixelRatio),s=Math.floor((t.clientY-n.y)/l.scale*devicePixelRatio);return{x:r,y:s}}return a.addEventListener("touchstart",t=>{const{x:n,y:r}=e(t.touches[0]);(l.pos.x!=n||l.pos.y!=r)&&i({pos:{x:n,y:r}})}),a.addEventListener("touchmove",t=>{const{x:n,y:r}=e(t.touches[0]);(l.pos.x!=n||l.pos.y!=r)&&i({pos:{x:n,y:r}})}),a.addEventListener("touchend",t=>{i({pos:{x:-1,y:-1}})}),a.addEventListener("touchcancel",t=>{i({pos:{x:-1,y:-1}})}),{syncState(t){l=t}}}function mt(l={}){return i=>vt(i,l)}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function yt(l,i,a){return l?i():a==null?void 0:a()}function bt({dispatch:l}){let{bitmap:i}=x;return L`<label>Width</label>
    <div class="spinner">
      <button
        @click=${()=>l({width:i.width-1,bitmap:i.resize(i.width-1,i.height)})}>
        <i class="fa-solid fa-minus"></i>
      </button>

      <input
        type="text"
        .value=${i.width}
        class="size-input"
        @change=${a=>l({width:Number(a.target.value),bitmap:i.resize(Number(a.target.value),i.height)})} />
      <button
        @click=${()=>l({width:i.width+1,bitmap:i.resize(i.width+1,i.height)})}>
        <i class="fa-solid fa-plus"></i>
      </button>
    </div>`}function wt({dispatch:l}){let{bitmap:i}=x;return L`<label>Height</label>
    <div class="spinner">
      <button
        @click=${()=>l({height:i.height-1,bitmap:i.resize(i.width,i.height-1)})}>
        <i class="fa-solid fa-minus"></i>
      </button>
      <input
        type="text"
        .value=${i.height}
        class="size-input"
        @change=${a=>l({height:Number(a.target.value),bitmap:i.resize(i.width,Number(a.target.value))})} />
      <button
        @click=${()=>l({height:i.height+1,bitmap:i.resize(i.width,i.height+1)})}>
        <i class="fa-solid fa-plus"></i>
      </button>
    </div>`}function xt({dispatch:l}){return L`<div id="settings-modal">
    <span style="font-weight: 800;">Settings</span>
    <button
      id="close-settings"
      @click=${()=>l({showSettingsModal:!1})}>
      <i class="fa-solid fa-circle-xmark"></i>
    </button>
    ${bt({dispatch:l})} ${wt({dispatch:l})}
    <label for="toggle-grid">Grid</label>
    <input
      id="toggle-grid"
      type="checkbox"
      ?checked=${x.grid}
      @change=${i=>l({grid:i.target.checked})} />
  </div>`}function Et({dispatch:l}){return L`<style>
      #settings {
        position: relative;
      }

      #settings-modal {
        position: absolute;
        right: 0;
        background-color: #333333;
        z-index: 1000;
        border-radius: 5px;
        padding: 7px;
        display: grid;
        grid-template-columns: auto auto;
        box-shadow: 0 0 10px 0 black;
        gap: 7px;
        align-items: center;
      }

      #settings-modal > label {
        text-align: right;
      }

      #close-settings {
        place-self: center end;
        background-color: transparent;
        font-size: large;
      }

      #settings-btn i {
        transition: 200ms;
      }

      #settings-btn:active i {
        transition: 0ms;
        transform: rotate(-60deg);
      }

      #size-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: end;
      }

      .spinner {
        display: flex;
        gap: 5px;
        align-items: center;
      }

      .size-input {
        background: none;
        border: none;
        align-self: center;
        width: 30px;
        color: #9e9e9e;
        border-radius: 4px;
        background-color: #252525;
        font-size: 1rem;
        text-align: center;
        height: 1.5rem;
      }

      .size-input:focus {
        background: none;
        border: none;
        align-self: center;
        width: 30px;
        color: #9e9e9e;
        border-radius: 4px;
        background-color: #252525;
        font-size: 1rem;
        text-align: center;
        height: 1.5rem;
      }

      .spinner > button {
        background-color: #252525;
        box-shadow: 0 0 2px 0 black;
        width: 20px;
        height: 20px;
        border-radius: 50%;
      }

      .spinner > button:hover {
        background-color: #676767;
        box-shadow: 0 0 1px 0 black;
      }
    </style>
    <div id="settings">
      <button
        id="settings-btn"
        class="taskbar-btn"
        @click=${()=>l({showSettingsModal:!x.showSettingsModal})}>
        <i class="fa-solid fa-gear"></i>
      </button>
      ${yt(x.showSettingsModal,()=>xt({dispatch:l}))}
    </div>`}var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Te={exports:{}};/**
 * jscolor - JavaScript Color Picker
 *
 * @link    http://jscolor.com
 * @license For open source use: GPLv3
 *          For commercial use: JSColor Commercial License
 * @author  Jan Odvarko - East Desire
 *
 * See usage examples at http://jscolor.com/examples/
 */(function(l){(function(i,a){{l.exports=i.document?a(i):function(e){if(!e.document)throw new Error("jscolor needs a window with document");return a(e)};return}})(typeof window<"u"?window:Ct,function(i){var a=function(){var e={initialized:!1,instances:[],readyQueue:[],register:function(){typeof i<"u"&&i.document&&i.document.addEventListener("DOMContentLoaded",e.pub.init,!1)},installBySelector:function(t,n){if(n=n?e.node(n):i.document,!n)throw new Error("Missing root node");for(var r=n.querySelectorAll(t),s=new RegExp("(^|\\s)("+e.pub.lookupClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),d=0;d<r.length;d+=1)if(!(r[d].jscolor&&r[d].jscolor instanceof e.pub)&&!(r[d].type!==void 0&&r[d].type.toLowerCase()=="color"&&e.isColorAttrSupported)){var c,h;if((c=e.getDataAttr(r[d],"jscolor"))!==null||r[d].className&&(h=r[d].className.match(s))){var u=r[d],p="";c!==null?p=c:h&&(console.warn('Installation using class name is DEPRECATED. Use data-jscolor="" attribute instead.'+e.docsRef),h[4]&&(p=h[4]));var m=null;if(p.trim())try{m=e.parseOptionsStr(p)}catch(y){console.warn(y+`
`+p)}try{new e.pub(u,m)}catch(y){console.warn(y)}}}},parseOptionsStr:function(t){var n=null;try{n=JSON.parse(t)}catch(r){if(e.pub.looseJSON)try{n=new Function("var opts = ("+t+'); return typeof opts === "object" ? opts : {};')()}catch(s){throw new Error("Could not evaluate jscolor options: "+s)}else throw new Error("Could not parse jscolor options as JSON: "+r)}return n},getInstances:function(){for(var t=[],n=0;n<e.instances.length;n+=1)e.instances[n]&&e.instances[n].targetElement&&t.push(e.instances[n]);return t},createEl:function(t){var n=i.document.createElement(t);return e.setData(n,"gui",!0),n},node:function(t){if(!t)return null;if(typeof t=="string"){var n=t,r=null;try{r=i.document.querySelector(n)}catch(s){return console.warn(s),null}return r||console.warn("No element matches the selector: %s",n),r}return e.isNode(t)?t:(console.warn("Invalid node of type %s: %s",typeof t,t),null)},isNode:function(t){return typeof Node=="object"?t instanceof Node:t&&typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"},nodeName:function(t){return t&&t.nodeName?t.nodeName.toLowerCase():!1},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},isTextInput:function(t){return t&&e.nodeName(t)==="input"&&t.type.toLowerCase()==="text"},isButton:function(t){if(!t)return!1;var n=e.nodeName(t);return n==="button"||n==="input"&&["button","submit","reset"].indexOf(t.type.toLowerCase())>-1},isButtonEmpty:function(t){switch(e.nodeName(t)){case"input":return!t.value||t.value.trim()==="";case"button":return t.textContent.trim()===""}return null},isPassiveEventSupported:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});i.addEventListener("testPassive",null,n),i.removeEventListener("testPassive",null,n)}catch{}return t}(),isColorAttrSupported:function(){var t=i.document.createElement("input");return!!(t.setAttribute&&(t.setAttribute("type","color"),t.type.toLowerCase()=="color"))}(),dataProp:"_data_jscolor",setData:function(){var t=arguments[0];if(arguments.length===3){var n=t.hasOwnProperty(e.dataProp)?t[e.dataProp]:t[e.dataProp]={},r=arguments[1],s=arguments[2];return n[r]=s,!0}else if(arguments.length===2&&typeof arguments[1]=="object"){var n=t.hasOwnProperty(e.dataProp)?t[e.dataProp]:t[e.dataProp]={},d=arguments[1];for(var r in d)d.hasOwnProperty(r)&&(n[r]=d[r]);return!0}throw new Error("Invalid arguments")},removeData:function(){var t=arguments[0];if(!t.hasOwnProperty(e.dataProp))return!0;for(var n=1;n<arguments.length;n+=1){var r=arguments[n];delete t[e.dataProp][r]}return!0},getData:function(t,n,r){if(!t.hasOwnProperty(e.dataProp))if(r!==void 0)t[e.dataProp]={};else return;var s=t[e.dataProp];return!s.hasOwnProperty(n)&&r!==void 0&&(s[n]=r),s[n]},getDataAttr:function(t,n){var r="data-"+n,s=t.getAttribute(r);return s},setDataAttr:function(t,n,r){var s="data-"+n;t.setAttribute(s,r)},_attachedGroupEvents:{},attachGroupEvent:function(t,n,r,s){e._attachedGroupEvents.hasOwnProperty(t)||(e._attachedGroupEvents[t]=[]),e._attachedGroupEvents[t].push([n,r,s]),n.addEventListener(r,s,!1)},detachGroupEvents:function(t){if(e._attachedGroupEvents.hasOwnProperty(t)){for(var n=0;n<e._attachedGroupEvents[t].length;n+=1){var r=e._attachedGroupEvents[t][n];r[0].removeEventListener(r[1],r[2],!1)}delete e._attachedGroupEvents[t]}},preventDefault:function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1},triggerEvent:function(t,n,r,s){if(t){var d=null;return typeof Event=="function"?d=new Event(n,{bubbles:r,cancelable:s}):(d=i.document.createEvent("Event"),d.initEvent(n,r,s)),d?(e.setData(d,"internal",!0),t.dispatchEvent(d),!0):!1}},triggerInputEvent:function(t,n,r,s){t&&e.isTextInput(t)&&e.triggerEvent(t,n,r,s)},eventKey:function(t){var n={9:"Tab",13:"Enter",27:"Escape"};return typeof t.code=="string"?t.code:t.keyCode!==void 0&&n.hasOwnProperty(t.keyCode)?n[t.keyCode]:null},strList:function(t){return t?t.replace(/^\s+|\s+$/g,"").split(/\s+/):[]},hasClass:function(t,n){return n?t.classList!==void 0?t.classList.contains(n):(" "+t.className.replace(/\s+/g," ")+" ").indexOf(" "+n+" ")!=-1:!1},addClass:function(t,n){var r=e.strList(n);if(t.classList!==void 0){for(var s=0;s<r.length;s+=1)t.classList.add(r[s]);return}for(var s=0;s<r.length;s+=1)e.hasClass(t,r[s])||(t.className+=(t.className?" ":"")+r[s])},removeClass:function(t,n){var r=e.strList(n);if(t.classList!==void 0){for(var s=0;s<r.length;s+=1)t.classList.remove(r[s]);return}for(var s=0;s<r.length;s+=1){var d=new RegExp("^\\s*"+r[s]+"\\s*|\\s*"+r[s]+"\\s*$|\\s+"+r[s]+"(\\s+)","g");t.className=t.className.replace(d,"$1")}},getCompStyle:function(t){var n=i.getComputedStyle?i.getComputedStyle(t):t.currentStyle;return n||{}},setStyle:function(t,n,r,s){var d=r?"important":"",c=null;for(var h in n)if(n.hasOwnProperty(h)){var u=null;n[h]===null?(c||(c=e.getData(t,"origStyle")),c&&c.hasOwnProperty(h)&&(u=c[h])):(s&&(c||(c=e.getData(t,"origStyle",{})),c.hasOwnProperty(h)||(c[h]=t.style[h])),u=n[h]),u!==null&&t.style.setProperty(h,u,d)}},appendCss:function(t){var n=document.querySelector("head"),r=document.createElement("style");r.innerText=t,n.appendChild(r)},appendDefaultCss:function(t){e.appendCss([".jscolor-wrap, .jscolor-wrap div, .jscolor-wrap canvas { position:static; display:block; visibility:visible; overflow:visible; margin:0; padding:0; border:none; border-radius:0; outline:none; z-index:auto; float:none; width:auto; height:auto; left:auto; right:auto; top:auto; bottom:auto; min-width:0; min-height:0; max-width:none; max-height:none; background:none; clip:auto; opacity:1; transform:none; box-shadow:none; box-sizing:content-box; }",".jscolor-wrap { clear:both; }",".jscolor-wrap .jscolor-picker { position:relative; }",".jscolor-wrap .jscolor-shadow { position:absolute; left:0; top:0; width:100%; height:100%; }",".jscolor-wrap .jscolor-border { position:relative; }",".jscolor-wrap .jscolor-palette { position:absolute; }",".jscolor-wrap .jscolor-palette-sw { position:absolute; display:block; cursor:pointer; }",".jscolor-wrap .jscolor-btn { position:absolute; overflow:hidden; white-space:nowrap; font:13px sans-serif; text-align:center; cursor:pointer; }"].join(`
`))},hexColor:function(t,n,r){return"#"+(("0"+Math.round(t).toString(16)).slice(-2)+("0"+Math.round(n).toString(16)).slice(-2)+("0"+Math.round(r).toString(16)).slice(-2)).toUpperCase()},hexaColor:function(t,n,r,s){return"#"+(("0"+Math.round(t).toString(16)).slice(-2)+("0"+Math.round(n).toString(16)).slice(-2)+("0"+Math.round(r).toString(16)).slice(-2)+("0"+Math.round(s*255).toString(16)).slice(-2)).toUpperCase()},rgbColor:function(t,n,r){return"rgb("+Math.round(t)+","+Math.round(n)+","+Math.round(r)+")"},rgbaColor:function(t,n,r,s){return"rgba("+Math.round(t)+","+Math.round(n)+","+Math.round(r)+","+Math.round((s??1)*100)/100+")"},linearGradient:function(){function t(){for(var r="linear-gradient",s=["","-webkit-","-moz-","-o-","-ms-"],d=i.document.createElement("div"),c=0;c<s.length;c+=1){var h=s[c]+r,u=h+"(to right, rgba(0,0,0,0), rgba(0,0,0,0))";if(d.style.background=u,d.style.background)return h}return r}var n=t();return function(){return n+"("+Array.prototype.join.call(arguments,", ")+")"}}(),setBorderRadius:function(t,n){e.setStyle(t,{"border-radius":n||"0"})},setBoxShadow:function(t,n){e.setStyle(t,{"box-shadow":n||"none"})},getElementPos:function(t,n){var r=0,s=0,d=t.getBoundingClientRect();if(r=d.left,s=d.top,!n){var c=e.getViewPos();r+=c[0],s+=c[1]}return[r,s]},getElementSize:function(t){return[t.offsetWidth,t.offsetHeight]},getAbsPointerPos:function(t){var n=0,r=0;return typeof t.changedTouches<"u"&&t.changedTouches.length?(n=t.changedTouches[0].clientX,r=t.changedTouches[0].clientY):typeof t.clientX=="number"&&(n=t.clientX,r=t.clientY),{x:n,y:r}},getRelPointerPos:function(t){var n=t.target||t.srcElement,r=n.getBoundingClientRect(),s=0,d=0,c=0,h=0;return typeof t.changedTouches<"u"&&t.changedTouches.length?(c=t.changedTouches[0].clientX,h=t.changedTouches[0].clientY):typeof t.clientX=="number"&&(c=t.clientX,h=t.clientY),s=c-r.left,d=h-r.top,{x:s,y:d}},getViewPos:function(){var t=i.document.documentElement;return[(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0),(i.pageYOffset||t.scrollTop)-(t.clientTop||0)]},getViewSize:function(){var t=i.document.documentElement;return[i.innerWidth||t.clientWidth,i.innerHeight||t.clientHeight]},RGB_HSV:function(t,n,r){t/=255,n/=255,r/=255;var s=Math.min(Math.min(t,n),r),d=Math.max(Math.max(t,n),r),c=d-s;if(c===0)return[null,0,100*d];var h=t===s?3+(r-n)/c:n===s?5+(t-r)/c:1+(n-t)/c;return[60*(h===6?0:h),100*(c/d),100*d]},HSV_RGB:function(t,n,r){var s=255*(r/100);if(t===null)return[s,s,s];t/=60,n/=100;var d=Math.floor(t),c=d%2?t-d:1-(t-d),h=s*(1-n),u=s*(1-n*c);switch(d){case 6:case 0:return[s,u,h];case 1:return[u,s,h];case 2:return[h,s,u];case 3:return[h,u,s];case 4:return[u,h,s];case 5:return[s,h,u]}},parseColorString:function(t){var n={rgba:null,format:null},r;if(r=t.match(/^\W*([0-9A-F]{3,8})\W*$/i)){if(r[1].length===8)n.format="hexa",n.rgba=[parseInt(r[1].slice(0,2),16),parseInt(r[1].slice(2,4),16),parseInt(r[1].slice(4,6),16),parseInt(r[1].slice(6,8),16)/255];else if(r[1].length===6)n.format="hex",n.rgba=[parseInt(r[1].slice(0,2),16),parseInt(r[1].slice(2,4),16),parseInt(r[1].slice(4,6),16),null];else if(r[1].length===3)n.format="hex",n.rgba=[parseInt(r[1].charAt(0)+r[1].charAt(0),16),parseInt(r[1].charAt(1)+r[1].charAt(1),16),parseInt(r[1].charAt(2)+r[1].charAt(2),16),null];else return!1;return n}if(r=t.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var s=r[1].split(","),d=/^\s*(\d+|\d*\.\d+|\d+\.\d*)\s*$/,c,h,u,p;if(s.length>=3&&(c=s[0].match(d))&&(h=s[1].match(d))&&(u=s[2].match(d)))return n.format="rgb",n.rgba=[parseFloat(c[1])||0,parseFloat(h[1])||0,parseFloat(u[1])||0,null],s.length>=4&&(p=s[3].match(d))&&(n.format="rgba",n.rgba[3]=parseFloat(p[1])||0),n}return!1},parsePaletteValue:function(t){var n=[];typeof t=="string"?t.replace(/#[0-9A-F]{3}\b|#[0-9A-F]{6}([0-9A-F]{2})?\b|rgba?\(([^)]*)\)/ig,function(c){n.push(c)}):Array.isArray(t)&&(n=t);for(var r=[],s=0;s<n.length;s++){var d=e.parseColorString(n[s]);d&&r.push(d)}return r},containsTranparentColor:function(t){for(var n=0;n<t.length;n++){var r=t[n].rgba[3];if(r!==null&&r<1)return!0}return!1},isAlphaFormat:function(t){switch(t.toLowerCase()){case"hexa":case"rgba":return!0}return!1},scaleCanvasForHighDPR:function(t){var n=i.devicePixelRatio||1;t.width*=n,t.height*=n;var r=t.getContext("2d");r.scale(n,n)},genColorPreviewCanvas:function(t,n,r,s){var d=Math.round(e.pub.previewSeparator.length),c=e.pub.chessboardSize,h=e.pub.chessboardColor1,u=e.pub.chessboardColor2,p=r||c*2,m=c*2,y=e.createEl("canvas"),w=y.getContext("2d");y.width=p,y.height=m,s&&e.scaleCanvasForHighDPR(y),w.fillStyle=h,w.fillRect(0,0,p,m),w.fillStyle=u;for(var R=0;R<p;R+=c*2)w.fillRect(R,0,c,c),w.fillRect(R+c,c,c,c);t&&(w.fillStyle=t,w.fillRect(0,0,p,m));var M=null;switch(n){case"left":M=0,w.clearRect(0,0,d/2,m);break;case"right":M=p-d,w.clearRect(p-d/2,0,d/2,m);break}if(M!==null){w.lineWidth=1;for(var $=0;$<e.pub.previewSeparator.length;$+=1)w.beginPath(),w.strokeStyle=e.pub.previewSeparator[$],w.moveTo(.5+M+$,0),w.lineTo(.5+M+$,m),w.stroke()}return{canvas:y,width:p,height:m}},genColorPreviewGradient:function(t,n,r){var s=[];return n&&r?s=["to "+{left:"right",right:"left"}[n],t+" 0%",t+" "+r+"px","rgba(0,0,0,0) "+(r+1)+"px","rgba(0,0,0,0) 100%"]:s=["to right",t+" 0%",t+" 100%"],e.linearGradient.apply(this,s)},redrawPosition:function(){if(!(!e.picker||!e.picker.owner)){var t=e.picker.owner;if(t.container!==i.document.body)e._drawPosition(t,0,0,"relative",!1);else{var n,r;t.fixed?(n=e.getElementPos(t.targetElement,!0),r=[0,0]):(n=e.getElementPos(t.targetElement),r=e.getViewPos());var s=e.getElementSize(t.targetElement),d=e.getViewSize(),c=e.getPickerDims(t),h=[c.borderW,c.borderH],u,p,m;switch(t.position.toLowerCase()){case"left":u=1,p=0,m=-1;break;case"right":u=1,p=0,m=1;break;case"top":u=0,p=1,m=-1;break;default:u=0,p=1,m=1;break}var y=(s[p]+h[p])/2;if(t.smartPosition)var w=[-r[u]+n[u]+h[u]>d[u]&&-r[u]+n[u]+s[u]/2>d[u]/2&&n[u]+s[u]-h[u]>=0?n[u]+s[u]-h[u]:n[u],-r[p]+n[p]+s[p]+h[p]-y+y*m>d[p]?-r[p]+n[p]+s[p]/2>d[p]/2&&n[p]+s[p]-y-y*m>=0?n[p]+s[p]-y-y*m:n[p]+s[p]-y+y*m:n[p]+s[p]-y+y*m>=0?n[p]+s[p]-y+y*m:n[p]+s[p]-y-y*m];else var w=[n[u],n[p]+s[p]-y+y*m];var R=w[u],M=w[p],$=t.fixed?"fixed":"absolute",ne=(w[0]+h[0]>n[0]||w[0]<n[0]+s[0])&&w[1]+h[1]<n[1]+s[1];e._drawPosition(t,R,M,$,ne)}}},_drawPosition:function(t,n,r,s,d){var c=d?0:t.shadowBlur;e.picker.wrap.style.position=s,(Math.round(parseFloat(e.picker.wrap.style.left))!==Math.round(n)||Math.round(parseFloat(e.picker.wrap.style.top))!==Math.round(r))&&(e.picker.wrap.style.left=n+"px",e.picker.wrap.style.top=r+"px"),e.setBoxShadow(e.picker.boxS,t.shadow?new e.BoxShadow(0,c,t.shadowBlur,0,t.shadowColor):null)},getPickerDims:function(t){var n=2*t.controlBorderWidth+t.width,r=2*t.controlBorderWidth+t.height,s=2*t.controlBorderWidth+2*e.getControlPadding(t)+t.sliderSize;e.getSliderChannel(t)&&(n+=s),t.hasAlphaChannel()&&(n+=s);var d=e.getPaletteDims(t,n);d.height&&(r+=d.height+t.padding),t.closeButton&&(r+=2*t.controlBorderWidth+t.padding+t.buttonHeight);var c=n+2*t.padding,h=r+2*t.padding;return{contentW:n,contentH:r,paddedW:c,paddedH:h,borderW:c+2*t.borderWidth,borderH:h+2*t.borderWidth,palette:d}},getPaletteDims:function(t,n){var r=0,s=0,d=0,c=0,h=0,u=t._palette?t._palette.length:0;return u&&(r=t.paletteCols,s=r>0?Math.ceil(u/r):0,d=Math.max(1,Math.floor((n-(r-1)*t.paletteSpacing)/r)),c=t.paletteHeight?Math.min(t.paletteHeight,d):d),s&&(h=s*c+(s-1)*t.paletteSpacing),{cols:r,rows:s,cellW:d,cellH:c,width:n,height:h}},getControlPadding:function(t){return Math.max(t.padding/2,2*t.pointerBorderWidth+t.pointerThickness-t.controlBorderWidth)},getPadYChannel:function(t){switch(t.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderChannel:function(t){if(t.mode.length>2)switch(t.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},triggerCallback:function(t,n){if(t[n]){var r=null;if(typeof t[n]=="string")try{r=new Function(t[n])}catch(s){console.error(s)}else r=t[n];r&&r.call(t)}},triggerGlobal:function(t){for(var n=e.getInstances(),r=0;r<n.length;r+=1)n[r].trigger(t)},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,onDocumentKeyUp:function(t){["Tab","Escape"].indexOf(e.eventKey(t))!==-1&&e.picker&&e.picker.owner&&e.picker.owner.tryHide()},onWindowResize:function(t){e.redrawPosition()},onWindowScroll:function(t){e.redrawPosition()},onParentScroll:function(t){e.picker&&e.picker.owner&&e.picker.owner.tryHide()},onDocumentMouseDown:function(t){var n=t.target||t.srcElement;if(n.jscolor&&n.jscolor instanceof e.pub)n.jscolor.showOnClick&&!n.disabled&&n.jscolor.show();else if(e.getData(n,"gui")){var r=e.getData(n,"control");r&&e.onControlPointerStart(t,n,e.getData(n,"control"),"mouse")}else e.picker&&e.picker.owner&&e.picker.owner.tryHide()},onPickerTouchStart:function(t){var n=t.target||t.srcElement;e.getData(n,"control")&&e.onControlPointerStart(t,n,e.getData(n,"control"),"touch")},onControlPointerStart:function(t,n,r,s){var d=e.getData(n,"instance");e.preventDefault(t);var c=function(y,w){e.attachGroupEvent("drag",y,e._pointerMoveEvent[s],e.onDocumentPointerMove(t,n,r,s,w)),e.attachGroupEvent("drag",y,e._pointerEndEvent[s],e.onDocumentPointerEnd(t,n,r,s))};if(c(i.document,[0,0]),i.parent&&i.frameElement){var h=i.frameElement.getBoundingClientRect(),u=[-h.left,-h.top];c(i.parent.window.document,u)}var p=e.getAbsPointerPos(t),m=e.getRelPointerPos(t);switch(e._pointerOrigin={x:p.x-m.x,y:p.y-m.y},r){case"pad":e.getSliderChannel(d)==="v"&&d.channels.v===0&&d.fromHSVA(null,null,100,null),e.setPad(d,t,0,0);break;case"sld":e.setSld(d,t,0);break;case"asld":e.setASld(d,t,0);break}d.trigger("input")},onDocumentPointerMove:function(t,n,r,s,d){return function(c){var h=e.getData(n,"instance");switch(r){case"pad":e.setPad(h,c,d[0],d[1]);break;case"sld":e.setSld(h,c,d[1]);break;case"asld":e.setASld(h,c,d[1]);break}h.trigger("input")}},onDocumentPointerEnd:function(t,n,r,s){return function(d){var c=e.getData(n,"instance");e.detachGroupEvents("drag"),c.trigger("input"),c.trigger("change")}},onPaletteSampleClick:function(t){var n=t.currentTarget,r=e.getData(n,"instance"),s=e.getData(n,"color");r.format.toLowerCase()==="any"&&(r._setFormat(s.format),e.isAlphaFormat(r.getFormat())||(s.rgba[3]=1)),s.rgba[3]===null&&(r.paletteSetsAlpha===!0||r.paletteSetsAlpha==="auto"&&r._paletteHasTransparency)&&(s.rgba[3]=1),r.fromRGBA.apply(r,s.rgba),r.trigger("input"),r.trigger("change"),r.hideOnPaletteClick&&r.hide()},setPad:function(t,n,r,s){var d=e.getAbsPointerPos(n),c=r+d.x-e._pointerOrigin.x-t.padding-t.controlBorderWidth,h=s+d.y-e._pointerOrigin.y-t.padding-t.controlBorderWidth,u=c*(360/(t.width-1)),p=100-h*(100/(t.height-1));switch(e.getPadYChannel(t)){case"s":t.fromHSVA(u,p,null,null);break;case"v":t.fromHSVA(u,null,p,null);break}},setSld:function(t,n,r){var s=e.getAbsPointerPos(n),d=r+s.y-e._pointerOrigin.y-t.padding-t.controlBorderWidth,c=100-d*(100/(t.height-1));switch(e.getSliderChannel(t)){case"s":t.fromHSVA(null,c,null,null);break;case"v":t.fromHSVA(null,null,c,null);break}},setASld:function(t,n,r){var s=e.getAbsPointerPos(n),d=r+s.y-e._pointerOrigin.y-t.padding-t.controlBorderWidth,c=1-d*(1/(t.height-1));if(c<1){var h=t.getFormat();t.format.toLowerCase()==="any"&&!e.isAlphaFormat(h)&&t._setFormat(h==="hex"?"hexa":"rgba")}t.fromHSVA(null,null,null,c)},createPadCanvas:function(){var t={elm:null,draw:null},n=e.createEl("canvas"),r=n.getContext("2d"),s=function(d,c,h){n.width=d,n.height=c,r.clearRect(0,0,n.width,n.height);var u=r.createLinearGradient(0,0,n.width,0);u.addColorStop(0/6,"#F00"),u.addColorStop(1/6,"#FF0"),u.addColorStop(2/6,"#0F0"),u.addColorStop(3/6,"#0FF"),u.addColorStop(4/6,"#00F"),u.addColorStop(5/6,"#F0F"),u.addColorStop(6/6,"#F00"),r.fillStyle=u,r.fillRect(0,0,n.width,n.height);var p=r.createLinearGradient(0,0,0,n.height);switch(h.toLowerCase()){case"s":p.addColorStop(0,"rgba(255,255,255,0)"),p.addColorStop(1,"rgba(255,255,255,1)");break;case"v":p.addColorStop(0,"rgba(0,0,0,0)"),p.addColorStop(1,"rgba(0,0,0,1)");break}r.fillStyle=p,r.fillRect(0,0,n.width,n.height)};return t.elm=n,t.draw=s,t},createSliderGradient:function(){var t={elm:null,draw:null},n=e.createEl("canvas"),r=n.getContext("2d"),s=function(d,c,h,u){n.width=d,n.height=c,r.clearRect(0,0,n.width,n.height);var p=r.createLinearGradient(0,0,0,n.height);p.addColorStop(0,h),p.addColorStop(1,u),r.fillStyle=p,r.fillRect(0,0,n.width,n.height)};return t.elm=n,t.draw=s,t},createASliderGradient:function(){var t={elm:null,draw:null},n=e.createEl("canvas"),r=n.getContext("2d"),s=function(d,c,h){n.width=d,n.height=c,r.clearRect(0,0,n.width,n.height);var u=n.width/2,p=e.pub.chessboardColor1,m=e.pub.chessboardColor2;if(r.fillStyle=p,r.fillRect(0,0,n.width,n.height),u>0)for(var y=0;y<n.height;y+=u*2)r.fillStyle=m,r.fillRect(0,y,u,u),r.fillRect(u,y+u,u,u);var w=r.createLinearGradient(0,0,0,n.height);w.addColorStop(0,h),w.addColorStop(1,"rgba(0,0,0,0)"),r.fillStyle=w,r.fillRect(0,0,n.width,n.height)};return t.elm=n,t.draw=s,t},BoxShadow:function(){var t=function(n,r,s,d,c,h){this.hShadow=n,this.vShadow=r,this.blur=s,this.spread=d,this.color=c,this.inset=!!h};return t.prototype.toString=function(){var n=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&n.push("inset"),n.join(" ")},t}(),flags:{leaveValue:1,leaveAlpha:2,leavePreview:4},enumOpts:{format:["auto","any","hex","hexa","rgb","rgba"],previewPosition:["left","right"],mode:["hsv","hvs","hs","hv"],position:["left","right","top","bottom"],alphaChannel:["auto",!0,!1],paletteSetsAlpha:["auto",!0,!1]},deprecatedOpts:{styleElement:"previewElement",onFineChange:"onInput",overwriteImportant:"forceStyle",closable:"closeButton",insetWidth:"controlBorderWidth",insetColor:"controlBorderColor",refine:null},docsRef:" See https://jscolor.com/docs/",pub:function(t,n){var r=this;n||(n={}),this.channels={r:255,g:255,b:255,h:0,s:0,v:100,a:1},this.format="auto",this.value=void 0,this.alpha=void 0,this.random=!1,this.onChange=void 0,this.onInput=void 0,this.valueElement=void 0,this.alphaElement=void 0,this.previewElement=void 0,this.previewPosition="left",this.previewSize=32,this.previewPadding=8,this.required=!0,this.hash=!0,this.uppercase=!0,this.forceStyle=!0,this.width=181,this.height=101,this.mode="HSV",this.alphaChannel="auto",this.position="bottom",this.smartPosition=!0,this.showOnClick=!0,this.hideOnLeave=!0,this.palette=[],this.paletteCols=10,this.paletteSetsAlpha="auto",this.paletteHeight=16,this.paletteSpacing=4,this.hideOnPaletteClick=!1,this.sliderSize=16,this.crossSize=8,this.closeButton=!1,this.closeText="Close",this.buttonColor="rgba(0,0,0,1)",this.buttonHeight=18,this.padding=12,this.backgroundColor="rgba(255,255,255,1)",this.borderWidth=1,this.borderColor="rgba(187,187,187,1)",this.borderRadius=8,this.controlBorderWidth=1,this.controlBorderColor="rgba(187,187,187,1)",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="rgba(76,76,76,1)",this.pointerBorderWidth=1,this.pointerBorderColor="rgba(255,255,255,1)",this.pointerThickness=2,this.zIndex=5e3,this.container=void 0,this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.minA=0,this.maxA=1,this.option=function(){if(!arguments.length)throw new Error("No option specified");if(arguments.length===1&&typeof arguments[0]=="string"){try{return d(arguments[0])}catch(v){console.warn(v)}return!1}else if(arguments.length>=2&&typeof arguments[0]=="string"){try{if(!s(arguments[0],arguments[1]))return!1}catch(v){return console.warn(v),!1}return this.redraw(),this.exposeColor(),!0}else if(arguments.length===1&&typeof arguments[0]=="object"){var o=arguments[0],f=!0;for(var g in o)if(o.hasOwnProperty(g))try{s(g,o[g])||(f=!1)}catch(v){console.warn(v),f=!1}return this.redraw(),this.exposeColor(),f}throw new Error("Invalid arguments")},this.channel=function(o,f){if(typeof o!="string")throw new Error("Invalid value for channel name: "+o);if(f===void 0)return this.channels.hasOwnProperty(o.toLowerCase())?this.channels[o.toLowerCase()]:(console.warn("Getting unknown channel: "+o),!1);var g=!1;switch(o.toLowerCase()){case"r":g=this.fromRGBA(f,null,null,null);break;case"g":g=this.fromRGBA(null,f,null,null);break;case"b":g=this.fromRGBA(null,null,f,null);break;case"h":g=this.fromHSVA(f,null,null,null);break;case"s":g=this.fromHSVA(null,f,null,null);break;case"v":g=this.fromHSVA(null,null,f,null);break;case"a":g=this.fromHSVA(null,null,null,f);break;default:return console.warn("Setting unknown channel: "+o),!1}return g?(this.redraw(),!0):!1},this.trigger=function(o){for(var f=e.strList(o),g=0;g<f.length;g+=1){var v=f[g].toLowerCase(),E=null;switch(v){case"input":E="onInput";break;case"change":E="onChange";break}E&&e.triggerCallback(this,E),e.triggerInputEvent(this.valueElement,v,!0,!0)}},this.fromHSVA=function(o,f,g,v,E){if(o===void 0&&(o=null),f===void 0&&(f=null),g===void 0&&(g=null),v===void 0&&(v=null),o!==null){if(isNaN(o))return!1;this.channels.h=Math.max(0,Math.min(360,o))}if(f!==null){if(isNaN(f))return!1;this.channels.s=Math.max(0,Math.min(100,this.maxS,f),this.minS)}if(g!==null){if(isNaN(g))return!1;this.channels.v=Math.max(0,Math.min(100,this.maxV,g),this.minV)}if(v!==null){if(isNaN(v))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,v),this.minA):1}var b=e.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=b[0],this.channels.g=b[1],this.channels.b=b[2],this.exposeColor(E),!0},this.fromRGBA=function(o,f,g,v,E){if(o===void 0&&(o=null),f===void 0&&(f=null),g===void 0&&(g=null),v===void 0&&(v=null),o!==null){if(isNaN(o))return!1;o=Math.max(0,Math.min(255,o))}if(f!==null){if(isNaN(f))return!1;f=Math.max(0,Math.min(255,f))}if(g!==null){if(isNaN(g))return!1;g=Math.max(0,Math.min(255,g))}if(v!==null){if(isNaN(v))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,v),this.minA):1}var b=e.RGB_HSV(o===null?this.channels.r:o,f===null?this.channels.g:f,g===null?this.channels.b:g);b[0]!==null&&(this.channels.h=Math.max(0,Math.min(360,b[0]))),b[2]!==0&&(this.channels.s=Math.max(0,this.minS,Math.min(100,this.maxS,b[1]))),this.channels.v=Math.max(0,this.minV,Math.min(100,this.maxV,b[2]));var C=e.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=C[0],this.channels.g=C[1],this.channels.b=C[2],this.exposeColor(E),!0},this.fromHSV=function(o,f,g,v){return console.warn("fromHSV() method is DEPRECATED. Using fromHSVA() instead."+e.docsRef),this.fromHSVA(o,f,g,null,v)},this.fromRGB=function(o,f,g,v){return console.warn("fromRGB() method is DEPRECATED. Using fromRGBA() instead."+e.docsRef),this.fromRGBA(o,f,g,null,v)},this.fromString=function(o,f){if(!this.required&&o.trim()==="")return this.setPreviewElementBg(null),this.setValueElementValue(""),!0;var g=e.parseColorString(o);return g?(this.format.toLowerCase()==="any"&&(this._setFormat(g.format),e.isAlphaFormat(this.getFormat())||(g.rgba[3]=1)),this.fromRGBA(g.rgba[0],g.rgba[1],g.rgba[2],g.rgba[3],f),!0):!1},this.randomize=function(o,f,g,v,E,b,C,S){o===void 0&&(o=0),f===void 0&&(f=100),g===void 0&&(g=0),v===void 0&&(v=100),E===void 0&&(E=0),b===void 0&&(b=359),C===void 0&&(C=1),S===void 0&&(S=1),this.fromHSVA(E+Math.floor(Math.random()*(b-E+1)),g+Math.floor(Math.random()*(v-g+1)),o+Math.floor(Math.random()*(f-o+1)),(100*C+Math.floor(Math.random()*(100*(S-C)+1)))/100)},this.toString=function(o){switch(o===void 0&&(o=this.getFormat()),o.toLowerCase()){case"hex":return this.toHEXString();case"hexa":return this.toHEXAString();case"rgb":return this.toRGBString();case"rgba":return this.toRGBAString()}return!1},this.toHEXString=function(){return e.hexColor(this.channels.r,this.channels.g,this.channels.b)},this.toHEXAString=function(){return e.hexaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toRGBString=function(){return e.rgbColor(this.channels.r,this.channels.g,this.channels.b)},this.toRGBAString=function(){return e.rgbaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toGrayscale=function(){return .213*this.channels.r+.715*this.channels.g+.072*this.channels.b},this.toCanvas=function(){return e.genColorPreviewCanvas(this.toRGBAString()).canvas},this.toDataURL=function(){return this.toCanvas().toDataURL()},this.toBackground=function(){return e.pub.background(this.toRGBAString())},this.isLight=function(){return this.toGrayscale()>127.5},this.hide=function(){y()&&c()},this.show=function(){h()},this.redraw=function(){y()&&h()},this.getFormat=function(){return this._currentFormat},this._setFormat=function(o){this._currentFormat=o.toLowerCase()},this.hasAlphaChannel=function(){return this.alphaChannel==="auto"?this.format.toLowerCase()==="any"||e.isAlphaFormat(this.getFormat())||this.alpha!==void 0||this.alphaElement!==void 0:this.alphaChannel},this.processValueInput=function(o){this.fromString(o)||this.exposeColor()},this.processAlphaInput=function(o){this.fromHSVA(null,null,null,parseFloat(o))||this.exposeColor()},this.exposeColor=function(o){var f=this.toString(),g=this.getFormat();if(e.setDataAttr(this.targetElement,"current-color",f),!(o&e.flags.leaveValue)&&this.valueElement&&((g==="hex"||g==="hexa")&&(this.uppercase||(f=f.toLowerCase()),this.hash||(f=f.replace(/^#/,""))),this.setValueElementValue(f)),!(o&e.flags.leaveAlpha)&&this.alphaElement){var v=Math.round(this.channels.a*100)/100;this.setAlphaElementValue(v)}!(o&e.flags.leavePreview)&&this.previewElement&&((e.isTextInput(this.previewElement)||e.isButton(this.previewElement)&&!e.isButtonEmpty(this.previewElement))&&this.previewPosition,this.setPreviewElementBg(this.toRGBAString())),y()&&(u(),p(),m())},this.setPreviewElementBg=function(o){if(this.previewElement){var f=null,g=null;(e.isTextInput(this.previewElement)||e.isButton(this.previewElement)&&!e.isButtonEmpty(this.previewElement))&&(f=this.previewPosition,g=this.previewSize);var v=[];if(!o)v.push({image:"none",position:"left top",size:"auto",repeat:"no-repeat",origin:"padding-box"});else{v.push({image:e.genColorPreviewGradient(o,f,g?g-e.pub.previewSeparator.length:null),position:"left top",size:"auto",repeat:f?"repeat-y":"repeat",origin:"padding-box"});var E=e.genColorPreviewCanvas("rgba(0,0,0,0)",f?{left:"right",right:"left"}[f]:null,g,!0);v.push({image:"url('"+E.canvas.toDataURL()+"')",position:(f||"left")+" top",size:E.width+"px "+E.height+"px",repeat:f?"repeat-y":"repeat",origin:"padding-box"})}for(var b={image:[],position:[],size:[],repeat:[],origin:[]},C=0;C<v.length;C+=1)b.image.push(v[C].image),b.position.push(v[C].position),b.size.push(v[C].size),b.repeat.push(v[C].repeat),b.origin.push(v[C].origin);var _={"background-image":b.image.join(", "),"background-position":b.position.join(", "),"background-size":b.size.join(", "),"background-repeat":b.repeat.join(", "),"background-origin":b.origin.join(", ")};e.setStyle(this.previewElement,_,this.forceStyle);var S={left:null,right:null};f&&(S[f]=this.previewSize+this.previewPadding+"px");var _={"padding-left":S.left,"padding-right":S.right};e.setStyle(this.previewElement,_,this.forceStyle,!0)}},this.setValueElementValue=function(o){this.valueElement&&(e.nodeName(this.valueElement)==="input"?this.valueElement.value=o:this.valueElement.innerHTML=o)},this.setAlphaElementValue=function(o){this.alphaElement&&(e.nodeName(this.alphaElement)==="input"?this.alphaElement.value=o:this.alphaElement.innerHTML=o)},this._processParentElementsInDOM=function(){if(!this._parentElementsProcessed){this._parentElementsProcessed=!0;var o=this.targetElement;do{var f=e.getCompStyle(o);f.position&&f.position.toLowerCase()==="fixed"&&(this.fixed=!0),o!==this.targetElement&&(e.getData(o,"hasScrollListener")||(o.addEventListener("scroll",e.onParentScroll,!1),e.setData(o,"hasScrollListener",!0)))}while((o=o.parentNode)&&e.nodeName(o)!=="body")}},this.tryHide=function(){this.hideOnLeave&&this.hide()},this.set__palette=function(o){this.palette=o,this._palette=e.parsePaletteValue(o),this._paletteHasTransparency=e.containsTranparentColor(this._palette)};function s(o,f){if(typeof o!="string")throw new Error("Invalid value for option name: "+o);if(e.enumOpts.hasOwnProperty(o)&&(typeof f=="string"&&(f=f.toLowerCase()),e.enumOpts[o].indexOf(f)===-1))throw new Error("Option '"+o+"' has invalid value: "+f);if(e.deprecatedOpts.hasOwnProperty(o)){var g=o,v=e.deprecatedOpts[o];if(v)console.warn("Option '%s' is DEPRECATED, using '%s' instead."+e.docsRef,g,v),o=v;else throw new Error("Option '"+o+"' is DEPRECATED")}var E="set__"+o;if(typeof r[E]=="function")return r[E](f),!0;if(o in r)return r[o]=f,!0;throw new Error("Unrecognized configuration option: "+o)}function d(o){if(typeof o!="string")throw new Error("Invalid value for option name: "+o);if(e.deprecatedOpts.hasOwnProperty(o)){var f=o,g=e.deprecatedOpts[o];if(g)console.warn("Option '%s' is DEPRECATED, using '%s' instead."+e.docsRef,f,g),o=g;else throw new Error("Option '"+o+"' is DEPRECATED")}var v="get__"+o;if(typeof r[v]=="function")return r[v](value);if(o in r)return r[o];throw new Error("Unrecognized configuration option: "+o)}function c(){e.removeClass(r.targetElement,e.pub.activeClassName),e.picker.wrap.parentNode.removeChild(e.picker.wrap),delete e.picker.owner}function h(){r._processParentElementsInDOM(),e.picker||(e.picker={owner:null,wrap:e.createEl("div"),box:e.createEl("div"),boxS:e.createEl("div"),boxB:e.createEl("div"),pad:e.createEl("div"),padB:e.createEl("div"),padM:e.createEl("div"),padCanvas:e.createPadCanvas(),cross:e.createEl("div"),crossBY:e.createEl("div"),crossBX:e.createEl("div"),crossLY:e.createEl("div"),crossLX:e.createEl("div"),sld:e.createEl("div"),sldB:e.createEl("div"),sldM:e.createEl("div"),sldGrad:e.createSliderGradient(),sldPtrS:e.createEl("div"),sldPtrIB:e.createEl("div"),sldPtrMB:e.createEl("div"),sldPtrOB:e.createEl("div"),asld:e.createEl("div"),asldB:e.createEl("div"),asldM:e.createEl("div"),asldGrad:e.createASliderGradient(),asldPtrS:e.createEl("div"),asldPtrIB:e.createEl("div"),asldPtrMB:e.createEl("div"),asldPtrOB:e.createEl("div"),pal:e.createEl("div"),btn:e.createEl("div"),btnT:e.createEl("div")},e.picker.pad.appendChild(e.picker.padCanvas.elm),e.picker.padB.appendChild(e.picker.pad),e.picker.cross.appendChild(e.picker.crossBY),e.picker.cross.appendChild(e.picker.crossBX),e.picker.cross.appendChild(e.picker.crossLY),e.picker.cross.appendChild(e.picker.crossLX),e.picker.padB.appendChild(e.picker.cross),e.picker.box.appendChild(e.picker.padB),e.picker.box.appendChild(e.picker.padM),e.picker.sld.appendChild(e.picker.sldGrad.elm),e.picker.sldB.appendChild(e.picker.sld),e.picker.sldB.appendChild(e.picker.sldPtrOB),e.picker.sldPtrOB.appendChild(e.picker.sldPtrMB),e.picker.sldPtrMB.appendChild(e.picker.sldPtrIB),e.picker.sldPtrIB.appendChild(e.picker.sldPtrS),e.picker.box.appendChild(e.picker.sldB),e.picker.box.appendChild(e.picker.sldM),e.picker.asld.appendChild(e.picker.asldGrad.elm),e.picker.asldB.appendChild(e.picker.asld),e.picker.asldB.appendChild(e.picker.asldPtrOB),e.picker.asldPtrOB.appendChild(e.picker.asldPtrMB),e.picker.asldPtrMB.appendChild(e.picker.asldPtrIB),e.picker.asldPtrIB.appendChild(e.picker.asldPtrS),e.picker.box.appendChild(e.picker.asldB),e.picker.box.appendChild(e.picker.asldM),e.picker.box.appendChild(e.picker.pal),e.picker.btn.appendChild(e.picker.btnT),e.picker.box.appendChild(e.picker.btn),e.picker.boxB.appendChild(e.picker.box),e.picker.wrap.appendChild(e.picker.boxS),e.picker.wrap.appendChild(e.picker.boxB),e.picker.wrap.addEventListener("touchstart",e.onPickerTouchStart,e.isPassiveEventSupported?{passive:!1}:!1));var o=e.picker,f=!!e.getSliderChannel(r),g=r.hasAlphaChannel(),v=e.getPickerDims(r),E=2*r.pointerBorderWidth+r.pointerThickness+2*r.crossSize,b=e.getControlPadding(r),C=Math.min(r.borderRadius,Math.round(r.padding*Math.PI)),S="crosshair";o.wrap.className="jscolor-wrap",o.wrap.style.width=v.borderW+"px",o.wrap.style.height=v.borderH+"px",o.wrap.style.zIndex=r.zIndex,o.box.className="jscolor-picker",o.box.style.width=v.paddedW+"px",o.box.style.height=v.paddedH+"px",o.boxS.className="jscolor-shadow",e.setBorderRadius(o.boxS,C+"px"),o.boxB.className="jscolor-border",o.boxB.style.border=r.borderWidth+"px solid",o.boxB.style.borderColor=r.borderColor,o.boxB.style.background=r.backgroundColor,e.setBorderRadius(o.boxB,C+"px"),o.padM.style.background="rgba(255,0,0,.2)",o.sldM.style.background="rgba(0,255,0,.2)",o.asldM.style.background="rgba(0,0,255,.2)",o.padM.style.opacity=o.sldM.style.opacity=o.asldM.style.opacity="0",o.pad.style.position="relative",o.pad.style.width=r.width+"px",o.pad.style.height=r.height+"px",o.padCanvas.draw(r.width,r.height,e.getPadYChannel(r)),o.padB.style.position="absolute",o.padB.style.left=r.padding+"px",o.padB.style.top=r.padding+"px",o.padB.style.border=r.controlBorderWidth+"px solid",o.padB.style.borderColor=r.controlBorderColor,o.padM.style.position="absolute",o.padM.style.left="0px",o.padM.style.top="0px",o.padM.style.width=r.padding+2*r.controlBorderWidth+r.width+b+"px",o.padM.style.height=2*r.controlBorderWidth+2*r.padding+r.height+"px",o.padM.style.cursor=S,e.setData(o.padM,{instance:r,control:"pad"}),o.cross.style.position="absolute",o.cross.style.left=o.cross.style.top="0",o.cross.style.width=o.cross.style.height=E+"px",o.crossBY.style.position=o.crossBX.style.position="absolute",o.crossBY.style.background=o.crossBX.style.background=r.pointerBorderColor,o.crossBY.style.width=o.crossBX.style.height=2*r.pointerBorderWidth+r.pointerThickness+"px",o.crossBY.style.height=o.crossBX.style.width=E+"px",o.crossBY.style.left=o.crossBX.style.top=Math.floor(E/2)-Math.floor(r.pointerThickness/2)-r.pointerBorderWidth+"px",o.crossBY.style.top=o.crossBX.style.left="0",o.crossLY.style.position=o.crossLX.style.position="absolute",o.crossLY.style.background=o.crossLX.style.background=r.pointerColor,o.crossLY.style.height=o.crossLX.style.width=E-2*r.pointerBorderWidth+"px",o.crossLY.style.width=o.crossLX.style.height=r.pointerThickness+"px",o.crossLY.style.left=o.crossLX.style.top=Math.floor(E/2)-Math.floor(r.pointerThickness/2)+"px",o.crossLY.style.top=o.crossLX.style.left=r.pointerBorderWidth+"px",o.sld.style.overflow="hidden",o.sld.style.width=r.sliderSize+"px",o.sld.style.height=r.height+"px",o.sldGrad.draw(r.sliderSize,r.height,"#000","#000"),o.sldB.style.display=f?"block":"none",o.sldB.style.position="absolute",o.sldB.style.left=r.padding+r.width+2*r.controlBorderWidth+2*b+"px",o.sldB.style.top=r.padding+"px",o.sldB.style.border=r.controlBorderWidth+"px solid",o.sldB.style.borderColor=r.controlBorderColor,o.sldM.style.display=f?"block":"none",o.sldM.style.position="absolute",o.sldM.style.left=r.padding+r.width+2*r.controlBorderWidth+b+"px",o.sldM.style.top="0px",o.sldM.style.width=r.sliderSize+2*b+2*r.controlBorderWidth+(g?0:Math.max(0,r.padding-b))+"px",o.sldM.style.height=2*r.controlBorderWidth+2*r.padding+r.height+"px",o.sldM.style.cursor="default",e.setData(o.sldM,{instance:r,control:"sld"}),o.sldPtrIB.style.border=o.sldPtrOB.style.border=r.pointerBorderWidth+"px solid "+r.pointerBorderColor,o.sldPtrOB.style.position="absolute",o.sldPtrOB.style.left=-(2*r.pointerBorderWidth+r.pointerThickness)+"px",o.sldPtrOB.style.top="0",o.sldPtrMB.style.border=r.pointerThickness+"px solid "+r.pointerColor,o.sldPtrS.style.width=r.sliderSize+"px",o.sldPtrS.style.height=e.pub.sliderInnerSpace+"px",o.asld.style.overflow="hidden",o.asld.style.width=r.sliderSize+"px",o.asld.style.height=r.height+"px",o.asldGrad.draw(r.sliderSize,r.height,"#000"),o.asldB.style.display=g?"block":"none",o.asldB.style.position="absolute",o.asldB.style.left=r.padding+r.width+2*r.controlBorderWidth+b+(f?r.sliderSize+3*b+2*r.controlBorderWidth:0)+"px",o.asldB.style.top=r.padding+"px",o.asldB.style.border=r.controlBorderWidth+"px solid",o.asldB.style.borderColor=r.controlBorderColor,o.asldM.style.display=g?"block":"none",o.asldM.style.position="absolute",o.asldM.style.left=r.padding+r.width+2*r.controlBorderWidth+b+(f?r.sliderSize+2*b+2*r.controlBorderWidth:0)+"px",o.asldM.style.top="0px",o.asldM.style.width=r.sliderSize+2*b+2*r.controlBorderWidth+Math.max(0,r.padding-b)+"px",o.asldM.style.height=2*r.controlBorderWidth+2*r.padding+r.height+"px",o.asldM.style.cursor="default",e.setData(o.asldM,{instance:r,control:"asld"}),o.asldPtrIB.style.border=o.asldPtrOB.style.border=r.pointerBorderWidth+"px solid "+r.pointerBorderColor,o.asldPtrOB.style.position="absolute",o.asldPtrOB.style.left=-(2*r.pointerBorderWidth+r.pointerThickness)+"px",o.asldPtrOB.style.top="0",o.asldPtrMB.style.border=r.pointerThickness+"px solid "+r.pointerColor,o.asldPtrS.style.width=r.sliderSize+"px",o.asldPtrS.style.height=e.pub.sliderInnerSpace+"px",o.pal.className="jscolor-palette",o.pal.style.display=v.palette.rows?"block":"none",o.pal.style.left=r.padding+"px",o.pal.style.top=2*r.controlBorderWidth+2*r.padding+r.height+"px",o.pal.innerHTML="";for(var _=e.genColorPreviewCanvas("rgba(0,0,0,0)"),T=0,oe=0;oe<v.palette.rows;oe++)for(var ae=0;ae<v.palette.cols&&T<r._palette.length;ae++,T++){var Z=r._palette[T],Ve=e.rgbaColor.apply(null,Z.rgba),ee=e.createEl("div");ee.style.width=v.palette.cellW-2*r.controlBorderWidth+"px",ee.style.height=v.palette.cellH-2*r.controlBorderWidth+"px",ee.style.backgroundColor=Ve;var B=e.createEl("div");B.className="jscolor-palette-sw",B.style.left=(v.palette.cols<=1?0:Math.round(10*(ae*((v.contentW-v.palette.cellW)/(v.palette.cols-1))))/10)+"px",B.style.top=oe*(v.palette.cellH+r.paletteSpacing)+"px",B.style.border=r.controlBorderWidth+"px solid",B.style.borderColor=r.controlBorderColor,Z.rgba[3]!==null&&Z.rgba[3]<1&&(B.style.backgroundImage="url('"+_.canvas.toDataURL()+"')",B.style.backgroundRepeat="repeat",B.style.backgroundPosition="center center"),e.setData(B,{instance:r,control:"palette-sw",color:Z}),B.addEventListener("click",e.onPaletteSampleClick,!1),B.appendChild(ee),o.pal.appendChild(B)}function Fe(){var V=r.controlBorderColor.split(/\s+/),Oe=V.length<2?V[0]:V[1]+" "+V[0]+" "+V[0]+" "+V[1];o.btn.style.borderColor=Oe}var ve=15;o.btn.className="jscolor-btn jscolor-btn-close",o.btn.style.display=r.closeButton?"block":"none",o.btn.style.left=r.padding+"px",o.btn.style.bottom=r.padding+"px",o.btn.style.padding="0 "+ve+"px",o.btn.style.maxWidth=v.contentW-2*r.controlBorderWidth-2*ve+"px",o.btn.style.height=r.buttonHeight+"px",o.btn.style.border=r.controlBorderWidth+"px solid",Fe(),o.btn.style.color=r.buttonColor,o.btn.onmousedown=function(){r.hide()},o.btnT.style.display="inline",o.btnT.style.lineHeight=r.buttonHeight+"px",o.btnT.innerText=r.closeText,u(),p(),m(),e.picker.owner&&e.picker.owner!==r&&e.removeClass(e.picker.owner.targetElement,e.pub.activeClassName),e.picker.owner=r,e.redrawPosition(),o.wrap.parentNode!==r.container&&r.container.appendChild(o.wrap),e.addClass(r.targetElement,e.pub.activeClassName)}function u(){var o=e.getPadYChannel(r),f=Math.round(r.channels.h/360*(r.width-1)),g=Math.round((1-r.channels[o]/100)*(r.height-1)),v=2*r.pointerBorderWidth+r.pointerThickness+2*r.crossSize,E=-Math.floor(v/2);switch(e.picker.cross.style.left=f+E+"px",e.picker.cross.style.top=g+E+"px",e.getSliderChannel(r)){case"s":var b=e.HSV_RGB(r.channels.h,100,r.channels.v),C=e.HSV_RGB(r.channels.h,0,r.channels.v),_="rgb("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+")",T="rgb("+Math.round(C[0])+","+Math.round(C[1])+","+Math.round(C[2])+")";e.picker.sldGrad.draw(r.sliderSize,r.height,_,T);break;case"v":var S=e.HSV_RGB(r.channels.h,r.channels.s,100),_="rgb("+Math.round(S[0])+","+Math.round(S[1])+","+Math.round(S[2])+")",T="#000";e.picker.sldGrad.draw(r.sliderSize,r.height,_,T);break}e.picker.asldGrad.draw(r.sliderSize,r.height,r.toHEXString())}function p(){var o=e.getSliderChannel(r);if(o){var f=Math.round((1-r.channels[o]/100)*(r.height-1));e.picker.sldPtrOB.style.top=f-(2*r.pointerBorderWidth+r.pointerThickness)-Math.floor(e.pub.sliderInnerSpace/2)+"px"}e.picker.asldGrad.draw(r.sliderSize,r.height,r.toHEXString())}function m(){var o=Math.round((1-r.channels.a)*(r.height-1));e.picker.asldPtrOB.style.top=o-(2*r.pointerBorderWidth+r.pointerThickness)-Math.floor(e.pub.sliderInnerSpace/2)+"px"}function y(){return e.picker&&e.picker.owner===r}function w(o){e.eventKey(o)==="Enter"&&(r.valueElement&&r.processValueInput(r.valueElement.value),r.tryHide())}function R(o){e.eventKey(o)==="Enter"&&(r.alphaElement&&r.processAlphaInput(r.alphaElement.value),r.tryHide())}function M(o){if(!e.getData(o,"internal")){var f=r.valueElement.value;r.processValueInput(r.valueElement.value),e.triggerCallback(r,"onChange"),r.valueElement.value!==f&&e.triggerInputEvent(r.valueElement,"change",!0,!0)}}function $(o){if(!e.getData(o,"internal")){var f=r.alphaElement.value;r.processAlphaInput(r.alphaElement.value),e.triggerCallback(r,"onChange"),e.triggerInputEvent(r.valueElement,"change",!0,!0),r.alphaElement.value!==f&&e.triggerInputEvent(r.alphaElement,"change",!0,!0)}}function ne(o){e.getData(o,"internal")||(r.valueElement&&r.fromString(r.valueElement.value,e.flags.leaveValue),e.triggerCallback(r,"onInput"))}function Ie(o){e.getData(o,"internal")||(r.alphaElement&&r.fromHSVA(null,null,null,parseFloat(r.alphaElement.value),e.flags.leaveAlpha),e.triggerCallback(r,"onInput"),e.triggerInputEvent(r.valueElement,"input",!0,!0))}if(e.pub.options){for(var A in e.pub.options)if(e.pub.options.hasOwnProperty(A))try{s(A,e.pub.options[A])}catch(o){console.warn(o)}}var N=[];n.preset&&(typeof n.preset=="string"?N=n.preset.split(/\s+/):Array.isArray(n.preset)?N=n.preset.slice():console.warn("Unrecognized preset value")),N.indexOf("default")===-1&&N.push("default");for(var ie=N.length-1;ie>=0;ie-=1){var G=N[ie];if(G){if(!e.pub.presets.hasOwnProperty(G)){console.warn("Unknown preset: %s",G);continue}for(var A in e.pub.presets[G])if(e.pub.presets[G].hasOwnProperty(A))try{s(A,e.pub.presets[G][A])}catch(f){console.warn(f)}}}var De=["preset"];for(var A in n)if(n.hasOwnProperty(A)&&De.indexOf(A)===-1)try{s(A,n[A])}catch(f){console.warn(f)}if(this.container===void 0?this.container=i.document.body:this.container=e.node(this.container),!this.container)throw new Error("Cannot instantiate color picker without a container element");if(this.targetElement=e.node(t),!this.targetElement){if(typeof t=="string"&&/^[a-zA-Z][\w:.-]*$/.test(t)){var pe=t;throw new Error("If '"+pe+"' is supposed to be an ID, please use '#"+pe+"' or any valid CSS selector.")}throw new Error("Cannot instantiate color picker without a target element")}if(this.targetElement.jscolor&&this.targetElement.jscolor instanceof e.pub)throw new Error("Color picker already installed on this element");if(this.targetElement.jscolor=this,e.addClass(this.targetElement,e.pub.className),e.instances.push(this),e.isButton(this.targetElement)&&(this.targetElement.type.toLowerCase()!=="button"&&(this.targetElement.type="button"),e.isButtonEmpty(this.targetElement))){e.removeChildren(this.targetElement),this.targetElement.appendChild(i.document.createTextNode(" "));var Ne=e.getCompStyle(this.targetElement),Ge=parseFloat(Ne["min-width"])||0;Ge<this.previewSize&&e.setStyle(this.targetElement,{"min-width":this.previewSize+"px"},this.forceStyle)}if(this.valueElement===void 0?e.isTextInput(this.targetElement)&&(this.valueElement=this.targetElement):this.valueElement===null||(this.valueElement=e.node(this.valueElement)),this.alphaElement&&(this.alphaElement=e.node(this.alphaElement)),this.previewElement===void 0?this.previewElement=this.targetElement:this.previewElement===null||(this.previewElement=e.node(this.previewElement)),this.valueElement&&e.isTextInput(this.valueElement)){var fe={onInput:this.valueElement.oninput};this.valueElement.oninput=null,this.valueElement.addEventListener("keydown",w,!1),this.valueElement.addEventListener("change",M,!1),this.valueElement.addEventListener("input",ne,!1),fe.onInput&&this.valueElement.addEventListener("input",fe.onInput,!1),this.valueElement.setAttribute("autocomplete","off"),this.valueElement.setAttribute("autocorrect","off"),this.valueElement.setAttribute("autocapitalize","off"),this.valueElement.setAttribute("spellcheck",!1)}this.alphaElement&&e.isTextInput(this.alphaElement)&&(this.alphaElement.addEventListener("keydown",R,!1),this.alphaElement.addEventListener("change",$,!1),this.alphaElement.addEventListener("input",Ie,!1),this.alphaElement.setAttribute("autocomplete","off"),this.alphaElement.setAttribute("autocorrect","off"),this.alphaElement.setAttribute("autocapitalize","off"),this.alphaElement.setAttribute("spellcheck",!1));var J="FFFFFF";this.value!==void 0?J=this.value:this.valueElement&&this.valueElement.value!==void 0&&(J=this.valueElement.value);var Q=void 0;if(this.alpha!==void 0?Q=""+this.alpha:this.alphaElement&&this.alphaElement.value!==void 0&&(Q=this.alphaElement.value),this._currentFormat=null,["auto","any"].indexOf(this.format.toLowerCase())>-1){var ge=e.parseColorString(J);this._currentFormat=ge?ge.format:"hex"}else this._currentFormat=this.format.toLowerCase();this.processValueInput(J),Q!==void 0&&this.processAlphaInput(Q),this.random&&this.randomize.apply(this,Array.isArray(this.random)?this.random:[])}};return e.pub.className="jscolor",e.pub.activeClassName="jscolor-active",e.pub.looseJSON=!0,e.pub.presets={},e.pub.presets.default={},e.pub.presets.light={backgroundColor:"rgba(255,255,255,1)",controlBorderColor:"rgba(187,187,187,1)",buttonColor:"rgba(0,0,0,1)"},e.pub.presets.dark={backgroundColor:"rgba(51,51,51,1)",controlBorderColor:"rgba(153,153,153,1)",buttonColor:"rgba(240,240,240,1)"},e.pub.presets.small={width:101,height:101,padding:10,sliderSize:14,paletteCols:8},e.pub.presets.medium={width:181,height:101,padding:12,sliderSize:16,paletteCols:10},e.pub.presets.large={width:271,height:151,padding:12,sliderSize:24,paletteCols:15},e.pub.presets.thin={borderWidth:1,controlBorderWidth:1,pointerBorderWidth:1},e.pub.presets.thick={borderWidth:2,controlBorderWidth:2,pointerBorderWidth:2},e.pub.sliderInnerSpace=3,e.pub.chessboardSize=8,e.pub.chessboardColor1="#666666",e.pub.chessboardColor2="#999999",e.pub.previewSeparator=["rgba(255,255,255,.65)","rgba(128,128,128,.65)"],e.pub.init=function(){if(!e.initialized)for(i.document.addEventListener("mousedown",e.onDocumentMouseDown,!1),i.document.addEventListener("keyup",e.onDocumentKeyUp,!1),i.addEventListener("resize",e.onWindowResize,!1),i.addEventListener("scroll",e.onWindowScroll,!1),e.appendDefaultCss(),e.pub.install(),e.initialized=!0;e.readyQueue.length;){var t=e.readyQueue.shift();t()}},e.pub.install=function(t){var n=!0;try{e.installBySelector("[data-jscolor]",t)}catch(r){n=!1,console.warn(r)}if(e.pub.lookupClass)try{e.installBySelector("input."+e.pub.lookupClass+", button."+e.pub.lookupClass,t)}catch{}return n},e.pub.ready=function(t){return typeof t!="function"?(console.warn("Passed value is not a function"),!1):(e.initialized?t():e.readyQueue.push(t),!0)},e.pub.trigger=function(t){var n=function(){e.triggerGlobal(t)};e.initialized?n():e.pub.ready(n)},e.pub.hide=function(){e.picker&&e.picker.owner&&e.picker.owner.hide()},e.pub.chessboard=function(t){t||(t="rgba(0,0,0,0)");var n=e.genColorPreviewCanvas(t);return n.canvas.toDataURL()},e.pub.background=function(t){var n=[];n.push(e.genColorPreviewGradient(t));var r=e.genColorPreviewCanvas();return n.push(["url('"+r.canvas.toDataURL()+"')","left top","repeat"].join(" ")),n.join(", ")},e.pub.options={},e.pub.lookupClass="jscolor",e.pub.installByClassName=function(){return console.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor="" attribute instead of a class name.'+e.docsRef),!1},e.register(),e.pub}();return typeof i.jscolor>"u"&&(i.jscolor=i.JSColor=a),a})})(Te);var St=Te.exports;const At=kt(St);function Bt(){const l="0123456789ABCDEF";let i="#";for(let a=0;a<6;a++)i+=l[Math.floor(Math.random()*16)];return i}function Pt({dispatch:l},i){if(x.palette.length==1){alert("you need some color in your life");return}const a=x.palette.filter((t,n)=>n!=i),e=x.bitmap.pixels.map(t=>t==i?0:t>i?t-1:t);l({palette:a,bitmap:new P(x.width,x.height,e)})}function Pe({dispatch:l},i){const a=document.getElementById(`color-${i}`);if(!a.jscolor){const e=new At(a,{preset:"dark large",format:"hexa",value:x.palette[i],onInput:()=>{const t=[...x.palette];t[i]=e.toRGBAString(),l({palette:t,bitmap:new P(x.width,x.height,x.bitmap.pixels)})},previewElement:null})}a.jscolor.show()}function Mt(l){let{dispatch:i}=l;return L`<button
      class="square-icon-button ${x.editingPalette?"selected":""}"
      @click=${()=>i({editingPalette:!x.editingPalette})}>
      <i class="fa-solid fa-pen"></i>
    </button>
    <button
      class="square-icon-button"
      @click=${()=>{let a=[...x.palette];a.push(Bt()),i({palette:a})}}>
      <i class="fa-solid fa-plus"></i>
    </button>
    ${x.palette.map((a,e)=>L`<div
          style="--current: ${a};"
          class="color-select ${e==x.activeColor?"selected":""}"
          @click=${()=>i({activeColor:e})}>
          ${x.editingPalette&&e>0?L`
                <button
                  class="delete"
                  @click=${()=>Pt(l,e)}>
                  <i class="fa-solid fa-fw fa-circle-xmark"></i>
                </button>
                <button
                  id="color-${e}"
                  class="edit-color"
                  @click=${t=>Pe(l,e)}></button>
                <div class="editicon" @click=${t=>Pe(l,e)}>
                  <i class="fa-solid fa-pen"></i>
                </div>
              `:""}
        </div>`)}`}let ce;const he={brush:rt,flood:nt,line:ot,rect:it,shift:at},$t={flood:"fa-fill-drip",brush:"fa-paintbrush",rect:"fa-vector-square",line:"fa-minus",shift:"fa-up-down-left-right"};function I(l){const i=Object.keys(l);tt(l),ce.syncState(x,i)}function _t(){const l=document.createElement("a");l.setAttribute("href",editorCanvas.toDataURL("image/x-icon")),l.setAttribute("download","favicon.ico"),document.body.appendChild(l),l.click(),l.remove()}function ze(){return L` <div id="taskbar">
      <span style="font-weight: 700; font-size: 20px; padding-left:5px;">
        art
      </span>
      <div id="taskbar-buttons">
        <!-- <button class="taskbar-btn" @click=${()=>_t()}>
          <i class="fa-solid fa-download"></i>
        </button> -->
        ${Et({dispatch:I})}
      </div>
    </div>

    <div id="site">
      <div id="tool-container">
        ${Object.keys(he).map(l=>L`<button
              class="square-icon-button ${x.activeTool==l?"active":""}"
              @click=${()=>I({activeTool:l})}>
              <i class="fa-solid ${$t[l]}"></i>
            </button>`)}
      </div>

      <div id="editor-container">
        <div id="canvas-container">
          <canvas id="art"></canvas>
          <canvas id="grid"></canvas>
          <canvas id="outline"></canvas>
        </div>
      </div>

      <div id="color-palette">${Mt({dispatch:I})}</div>
    </div>`}function ue(){const l=document.getElementById("editor-container").getBoundingClientRect(),i=l.width*devicePixelRatio,a=l.height*devicePixelRatio;return Math.min(Math.floor(i/x.width),Math.floor(a/x.height))}function Me(l){let{width:i,height:a}=l;return{syncState(e){(i!=e.width||a!=e.height)&&({width:i,height:a}=e,I({scale:ue()}))}}}window.onload=()=>{He(ze(),document.body);let l=document.getElementById("grid"),i=document.getElementById("outline"),a=document.getElementById("art");x.scale=ue(),Lt()?ce=new ke({state:x,dispatch:I,components:[Se({canvas:a}),Ae({canvas:l}),Be({canvas:i}),mt({target:i}),gt({tools:he,target:i}),Me]}):ce=new ke({state:x,dispatch:I,components:[Se({canvas:a}),Ae({canvas:l}),Be({canvas:i}),pt({target:i}),ht({tools:he,target:i}),Me]}),We()};const We=()=>{He(ze(),document.body),window.requestAnimationFrame(We)};function Lt(){let l=!1;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(l=!0)}(navigator.userAgent||navigator.vendor||window.opera),l}window.addEventListener("resize",l=>{I({scale:ue(),bitmap:new P(x.width,x.height,x.bitmap.pixels)})});
